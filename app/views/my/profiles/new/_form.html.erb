<section>
  <%= render partial: 'shared/list_of_errors', locals: { entity: entity } %>

  <%= form_tag my_profile_path, class: 'new-my-profile' do %>
      <dl>
        <dt>
          <%= label_tag :user_screen_name, t('activerecord.attributes.user.screen_name') %>
        </dt>
        <dd>
          <%= text_field_tag 'user[screen_name]', entity.screen_name, required: true, size: 30, maxlength: 30 %>
          <div class="guideline"><%= t('.guidelines.screen_name') %></div>
        </dd>

        <dt>
          <%= label_tag :user_password, t('activerecord.attributes.user.password') %>
        </dt>
        <dd>
          <%= password_field_tag 'user[password]', '', required: true, size: nil, maxlength: 70 %>
          <div class="guideline"><%= t('.guidelines.password') %></div>
        </dd>

        <dt>
          <%= label_tag :user_password_confirmation, t('activerecord.attributes.user.password_confirmation') %>
        </dt>
        <dd>
          <%= password_field_tag 'user[password_confirmation]', '', required: true, size: nil, maxlength: 70 %>
          <div class="guideline"><%= t('.guidelines.password_confirmation') %></div>
        </dd>

        <dt>
          <%= label_tag :user_email, t('activerecord.attributes.user.email') %>
        </dt>
        <dd>
          <%= email_field_tag 'user[email]', entity.email, size: nil, maxlength: User::EMAIL_LIMIT, required: true %>
          <div class="guideline"><%= t('.guidelines.email') %></div>
        </dd>
      </dl>

      <ul class="flags">
        <li>
          <%= check_box_tag 'user[consent]', '1', false, required: true %>
          <%= label_tag :user_consent, t('.consent') %>
        </li>
        <li>
          <%= check_box_tag 'user[allow_mail]', '1', entity.allow_mail %>
          <%= label_tag :user_allow_mail, t('activerecord.attributes.user.allow_mail') %>
        </li>
      </ul>

      <div class="trap">
        <%= check_box_tag :agree %>
        <%= label_tag :agree, t('.i_am_bot') %>
      </div>

      <div class="actions">
        <%= button_tag t('.join'), type: :submit, name: 'button' %>
        <%= link_to t('authentication.nav_item.log_in'), login_path, class: 'button-nav' %>
      </div>
  <% end %>
</section>
