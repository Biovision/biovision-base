<% content_for :meta_title, t('.title') %>

<article class="my-recovery">
  <h1><%= t('.title') %></h1>

  <section>
    <h2><%= t('.got_code') %></h2>
    <%= form_tag my_recovery_path, method: :patch do %>
        <dl>
          <dt>
            <%= label_tag :code, t('activerecord.attributes.code.body') %>
          </dt>
          <dd>
            <%= text_field_tag :code, param_from_request(:code), required: true, size: 25 %>
          </dd>

          <dt>
            <%= label_tag :user_password, t('activerecord.attributes.user.password') %>
          </dt>
          <dd>
            <%= password_field_tag 'user[password]', '', required: true, size: 25 %>
          </dd>

          <dt>
            <%= label_tag :user_password_confirmation, t('activerecord.attributes.user.password_confirmation') %>
          </dt>
          <dd>
            <%= password_field_tag 'user[password_confirmation]', '', required: true, size: 25 %>
          </dd>
        </dl>

        <div>
          <%= button_tag t('.update_password'), type: :submit %>
        </div>
    <% end %>
  </section>

  <section>
    <h2><%= t('.no_code') %></h2>
    <%= form_tag my_recovery_path, method: :post do %>
        <dl>
          <dt><%= label_tag :email, t('activerecord.attributes.user.email') %></dt>
          <dd><%= email_field_tag :email, param_from_request(:email), required: true %></dd>
        </dl>
        <div>
          <%= button_tag t('.receive_code'), type: :submit %>
        </div>
    <% end %>
  </section>
</article>
